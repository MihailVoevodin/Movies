{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,+DAAe,IAAI;;;;;;;;;;;ACvCnB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+DAAe,MAAM;;;;;;;;;;;ACjBrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,YAAY;AACnD,4BAA4B,eAAe,SAAS,YAAY;AAChE,yDAAyD,+BAA+B;AACxF,yDAAyD,sDAAsD;AAC/G,6CAA6C,yCAAyC,YAAY,GAAG;AACrG,0DAA0D,4BAA4B,IAAI,sDAAsD;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU,EAAE,WAAW;AAC9C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,wCAAwC,eAAe,SAAS,YAAY;AAC5E,qEAAqE,+BAA+B;AACpG,qEAAqE,sDAAsD;AAC3H,yDAAyD,yCAAyC,YAAY,GAAG;AACjH,sEAAsE,4BAA4B,IAAI,sDAAsD;AAC5J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,eAAe,SAAS,YAAY;AAC9F;AACA,0DAA0D,gCAAgC,EAAE,mDAAmD;AAC/I,iEAAiE,UAAU;AAC3E,iEAAiE,UAAU;AAC3E,2EAA2E,oCAAoC,kBAAkB,GAAG;AACpI,oEAAoE,6BAA6B,YAAY,GAAG;AAChH,qEAAqE,YAAY;AACjF,qEAAqE,gBAAgB;AACrF,4EAA4E,iBAAiB;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAAe,MAAM;;;;;;;;;;;ACzPrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,eAAe,SAAS,YAAY;AAChE,yDAAyD,+BAA+B;AACxF,yDAAyD,sDAAsD;AAC/G,6CAA6C,yCAAyC,YAAY,GAAG;AACrG,0DAA0D,4BAA4B,IAAI,uBAAuB;AACjH;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,+DAAe,QAAQ;;;;;;UC3DvB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNkC;AACQ;AACJ;AACA;AACtC;AACA,IAAI,yDAAI;AACR,IAAI,6DAAQ;AACZ,IAAI,2DAAM;AACV,IAAI,2DAAM,G","sources":["webpack://spacex/./src/js/modules/menu.js","webpack://spacex/./src/js/modules/scroll.js","webpack://spacex/./src/js/modules/select.js","webpack://spacex/./src/js/modules/topFilms.js","webpack://spacex/webpack/bootstrap","webpack://spacex/webpack/runtime/make namespace object","webpack://spacex/./src/js/script.js"],"sourcesContent":["function menu() {\r\n    const menu = document.querySelector('.header__top');\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if (window.pageYOffset > '50') {\r\n            menu.style.backgroundColor = \"#b00\";\r\n        } else {\r\n            menu.style.backgroundColor = \"transparent\";\r\n        }\r\n    })\r\n\r\n    const menuClose = document.querySelector('.hamburger-menu__close'),\r\n          menuSide = document.querySelector('.hamburger-menu'),\r\n          menuOpen = document.querySelector('.hamburger');\r\n\r\n    menuOpen.addEventListener('click', () => {\r\n        menuSide.classList.add('active');\r\n    }) \r\n\r\n    menuClose.addEventListener('click', () => {\r\n        menuSide.classList.remove('active');\r\n    })\r\n\r\n    document.addEventListener('click', e => {\r\n        if (!e.target.closest('.hamburger-menu') && !e.target.closest('.hamburger')) {\r\n            menuSide.classList.remove('active');\r\n        }\r\n    })\r\n\r\n    const menuItems = document.querySelectorAll('.hamburger-menu__item');\r\n\r\n    menuItems.forEach(item => {\r\n        item.addEventListener('click', () => {\r\n            menuSide.classList.remove('active');\r\n        })\r\n    })\r\n\r\n}\r\n\r\nexport default menu;","function scroll() {\r\n    const scrollBtn = document.querySelector('.scroll-top');\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if (window.pageYOffset > '1000') {\r\n            scrollBtn.style.display = 'block';\r\n        } else {\r\n            scrollBtn.style.display = 'none';\r\n        }\r\n    })\r\n    \r\n\r\n    scrollBtn.addEventListener('click', () => {\r\n        window.scrollTo(0, 0);\r\n    })\r\n}\r\n\r\nexport default scroll;","function select() {\r\n\r\n\r\n    const _apiKey = 'ba2becc0-f421-4ef5-bf44-ebac95a88660',\r\n          apiMyFilm = 'https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=';\r\n\r\n    const selectItem = document.querySelector('.film'),\r\n          listFilms = document.querySelector('.my-list__select'),\r\n          inputClose = document.querySelector('.new-film__close'),\r\n          movies = document.querySelector('.my-list__items'),\r\n          cards = document.querySelector('.cards');\r\n          \r\n\r\n          \r\n\r\n\r\n    function getRatingColor(rate) {\r\n        if (rate === 'null') {\r\n            return 'grey';\r\n        } else if (rate >= '7') {\r\n            return 'green';\r\n        } else if (rate >= '4') {\r\n            return 'orange';\r\n        } else {\r\n            return 'red';\r\n        }\r\n    }\r\n\r\n    function getRating(rate) {\r\n        if (rate.includes('%')) {\r\n            return [rate.substr(0, 1), rate.substr(1, 1)].join('.')\r\n        } else {\r\n            return rate\r\n        }\r\n    }\r\n\r\n    function closeInput() {\r\n        if (listFilms.textContent != '') {\r\n            inputClose.style.display = 'block';\r\n        } else {\r\n            inputClose.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    function deleteFilm() {\r\n        const deleteBtns = document.querySelectorAll('.movie__close');\r\n\r\n        deleteBtns.forEach((e, id) => {\r\n            e.addEventListener('click', (item) => {\r\n                item.target.parentNode.remove();\r\n                console.log(item.target);\r\n                moviesStorage = JSON.parse(localStorage.getItem('movies'));\r\n                moviesStorage.splice(id, 1);\r\n                localStorage.setItem('movies', JSON.stringify(moviesStorage));\r\n            })\r\n        })\r\n    }\r\n    \r\n    let moviesStorage = [];\r\n\r\n    if (localStorage.getItem('movies')) {\r\n        moviesStorage = JSON.parse(localStorage.getItem('movies'));\r\n        let displayFilm = '';\r\n        moviesStorage.forEach(item => {\r\n            console.log(item);\r\n            \r\n            displayFilm += `\r\n            <li class='movie' filmId=${item.filmId}>\r\n                <img src=\"${item.posterUrl}\" alt=\"${item.nameEn}\">\r\n                <div class=\"movie__name movie__nameEn\">${item.nameEn ? item.nameEn : ''}</div>\r\n                <div class=\"movie__name movie__nameRu\">${item.nameEn ? '( ' + item.nameRu + ' )' : item.nameRu}</div>\r\n                <div class=\"movie__genres\">${item.genres.slice(0, 3).map(genre => ` ${genre.genre}`)}</div>\r\n                <div class=\"movie__rating movie__rating_${getRatingColor(item.rating)}\">${item.rating != 'null' ? getRating(item.rating) : 'no'}</div>\r\n                <div class=\"movie__close\">Удалить</div>\r\n                <div class=\"movie__info\">Подробнее...</div>\r\n            </li>\r\n            `\r\n            console.log(item.rating);\r\n            movies.innerHTML = displayFilm;\r\n            \r\n        })\r\n        \r\n    }\r\n\r\n\r\n    selectItem.addEventListener('keyup', () => {\r\n        const inputValue = selectItem.value,\r\n              api = `${apiMyFilm}${inputValue}`;\r\n              \r\n        listFilms.innerHTML = '';\r\n\r\n        getFilm(api);\r\n    })\r\n\r\n    async function getFilm(url) {\r\n        const res = await fetch(url, {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-API-KEY': _apiKey,\r\n            },\r\n        })\r\n\r\n        const resData = await res.json();\r\n        \r\n        resData.films.slice(0, 6).forEach(item => {\r\n            \r\n                const film = document.createElement('li');\r\n                film.classList.add('film-item')\r\n            \r\n                film.innerHTML = `\r\n                    ${item.nameRu}  \r\n                `\r\n                listFilms.appendChild(film);\r\n\r\n                film.addEventListener('click', () => {\r\n\r\n                    const movie = document.createElement('li');\r\n\r\n                    movie.setAttribute('filmId', item.filmId);\r\n                    movie.classList.add('movie');\r\n\r\n\r\n                    const ids = document.querySelectorAll('li.movie');\r\n                    const filmId = ids.map(item => {\r\n                        const id = item.getAttribute('filmid');\r\n                        console.log(id)\r\n                        return id;\r\n                    })\r\n                    console.log(ids);\r\n                    console.log(filmId);\r\n                    console.log(item.filmId);\r\n                    // if (item.filmId != filmId) {\r\n                        movie.innerHTML = `\r\n                            <img src=\"${item.posterUrl}\" alt=\"${item.nameEn}\">\r\n                            <div class=\"movie__name movie__nameEn\">${item.nameEn ? item.nameEn : ''}</div>\r\n                            <div class=\"movie__name movie__nameRu\">${item.nameEn ? '( ' + item.nameRu + ' )' : item.nameRu}</div>\r\n                            <div class=\"movie__genres\">${item.genres.slice(0, 3).map(genre => ` ${genre.genre}`)}</div>\r\n                            <div class=\"movie__rating movie__rating_${getRatingColor(item.rating)}\">${item.rating != 'null' ? getRating(item.rating) : 'no'}</div>\r\n                            <div class=\"movie__close\">Удалить</div>\r\n                            <div class=\"movie__info\">Подробнее...</div>\r\n                        `\r\n                        movies.appendChild(movie);\r\n                        listFilms.innerHTML = '';\r\n                        selectItem.value = '';\r\n                        closeInput()\r\n                        \r\n                        moviesStorage.push(item);\r\n                        console.log(moviesStorage);\r\n                        localStorage.setItem('movies', JSON.stringify(moviesStorage));\r\n                        deleteFilm()\r\n                        createCard()\r\n                    // } else {\r\n                    //     alert('This film in yhe list yet!');\r\n                    // }\r\n                    \r\n                })\r\n            \r\n             \r\n        })\r\n\r\n        window.addEventListener('click', (e) => {\r\n            if (listFilms && !e.target.closest('.film')) {\r\n                listFilms.innerHTML = '';\r\n                selectItem.value = '';\r\n            }\r\n            closeInput()\r\n        })\r\n\r\n        closeInput()\r\n        console.log(movies);\r\n        deleteFilm()\r\n\r\n\r\n    }\r\n    \r\n    deleteFilm()\r\n\r\n    function closeCard() {\r\n        const card = document.querySelector('.card')\r\n        \r\n        cards.addEventListener('click', (e) => {\r\n            console.log(e.target);\r\n            if (!e.target.closest('.card')) {\r\n                \r\n                e.target.innerHTML = '';\r\n                cards.style.display = 'none';\r\n                document.body.style.overflow = '';\r\n            }\r\n            \r\n\r\n        })\r\n    }\r\n\r\n\r\n    function createCard() {\r\n\r\n        const cardTriggers = document.querySelectorAll('.movie__info');\r\n\r\n        cardTriggers.forEach(e => {\r\n            \r\n            const filmId = e.parentNode.getAttribute('filmid');\r\n                \r\n            e.addEventListener('click', () => {\r\n                console.log(filmId);\r\n                moviesStorage = JSON.parse(localStorage.getItem('movies'));\r\n                moviesStorage.forEach(item => {\r\n                    \r\n                    if (item.filmId == filmId) {\r\n                        console.log(item)\r\n                        const card = document.createElement('div');\r\n                        cards.style.display = 'block';\r\n                        card.classList.add('card')\r\n                        card.innerHTML = `\r\n                            <img class=\"card__img\" src=\"${item.posterUrl}\" alt=\"${item.nameEn}\">\r\n                            <div class=\"card__info\">\r\n                                <div class=\"card__name\">${item.nameEn ? item.nameEn : ''} ${item.nameEn ? '(' + item.nameRu +')' : item.nameRu}</div>\r\n                                <div class=\"card__type\">Type : ${item.type}</div>\r\n                                <div class=\"card__year\">Year : ${item.year}</div>\r\n                                <div class=\"card__countries\">Countries : ${item.countries.map(countries => ` ${countries.country}`)}</div>\r\n                                <div class=\"card__genres\">Genres :${item.genres.map(genre => ` ${genre.genre}`)}</div>\r\n                                <div class=\"card__rating\">Rating : ${item.rating}</div>\r\n                                <div class=\"card__length\">Length : ${item.filmLength}</div>\r\n                                <div class=\"card__descr\">Description :<br>${item.description}</div>\r\n                            </div>\r\n                            \r\n                        `\r\n                        cards.appendChild(card);\r\n                        document.body.style.overflow = 'hidden';\r\n                        console.log(card);\r\n                        closeCard()\r\n                    }\r\n                    \r\n                })\r\n                    \r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    \r\n\r\n    createCard()\r\n    \r\n\r\n    \r\n    \r\n    \r\n}\r\n\r\nexport default select;","function topFilms() {\r\n    const _apiKey = 'ba2becc0-f421-4ef5-bf44-ebac95a88660',\r\n      apiUrlPopular = 'https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1';\r\n      \r\n\r\n    getPopularFilms(apiUrlPopular)\r\n\r\n    async function getPopularFilms(url) {\r\n        const res = await fetch(url, {\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'X-API-KEY': _apiKey,\r\n            },\r\n        })\r\n\r\n        const resData = await res.json();\r\n        createCards(resData)\r\n    }\r\n\r\n    function createCards(card) {\r\n        const movies = document.querySelector('.movies');\r\n\r\n        card.films.forEach(item => {\r\n            const movie = document.createElement('div')\r\n            movie.classList.add('movie')\r\n            movie.innerHTML = `\r\n            <div>\r\n                <img src=\"${item.posterUrl}\" alt=\"${item.nameEn}\">\r\n                <div class=\"movie__name movie__nameEn\">${item.nameEn ? item.nameEn : ''}</div>\r\n                <div class=\"movie__name movie__nameRu\">${item.nameEn ? '( ' + item.nameRu + ' )' : item.nameRu}</div>\r\n                <div class=\"movie__genres\">${item.genres.slice(0, 3).map(genre => ` ${genre.genre}`)}</div>\r\n                <div class=\"movie__rating movie__rating_${getRatingColor(item.rating)}\">${getRating(item.rating)}</div>\r\n            </div>\r\n            `\r\n            movies.appendChild(movie)\r\n        })\r\n\r\n    }\r\n\r\n\r\n    function getRatingColor(rate) {\r\n        if (rate >= '7') {\r\n            return 'green';\r\n        } else if (rate > '5') {\r\n            return 'orange';\r\n        } else {\r\n            return 'red';\r\n        }\r\n    }\r\n\r\n    function getRating(rate) {\r\n        if (rate.includes('%')) {\r\n            return [rate.substr(0, 1), rate.substr(1, 1)].join('.')\r\n        } else {\r\n            return rate\r\n        }\r\n    }\r\n}\r\n\r\nexport default topFilms;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import menu from './modules/menu';\r\nimport topFilms from './modules/topFilms';\r\nimport select from './modules/select';\r\nimport scroll from './modules/scroll';\r\n\r\n    menu();\r\n    topFilms();\r\n    select();\r\n    scroll();"],"names":[],"sourceRoot":""}